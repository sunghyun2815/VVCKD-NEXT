/* ====== VLYNK Project Module CSS - Professional Version ====== */

/* ===== 기본 컨테이너 ===== */
.container {
  width: 100vw;
  height: 100vh;
  background: var(--vlynk-bg-tertiary, #000);
  color: var(--vlynk-text-secondary, #fff);
  font-family: 'PressStart2P', 'Press Start 2P', monospace;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  position: relative;
}

/* ===== 사용자 정보 ===== */
.userInfo {
  position: fixed;
  top: 80px;
  left: var(--vlynk-spacing-lg, 20px);
  font-size: var(--vlynk-font-md, 10px);
  color: var(--vlynk-text-primary, #FF5500);
  z-index: 1001;
  padding: var(--vlynk-spacing-xs, 4px) var(--vlynk-spacing-sm, 8px);
  border: 1px solid var(--vlynk-border-primary, #FF5500);
  background: var(--vlynk-bg-tertiary, #000);
}

.userRole {
  color: var(--vlynk-secondary, #FFFF00);
  margin-left: var(--vlynk-spacing-md, 10px);
}

/* ===== 로그인 화면 ===== */
.loginOverlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.95);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2000;
  backdrop-filter: blur(2px);
}

.loginBox {
  background: var(--vlynk-bg-tertiary, #000);
  border: 2px solid var(--vlynk-border-primary, #FF5500);
  padding: var(--vlynk-spacing-2xl, 40px);
  text-align: center;
  max-width: 90vw;
  animation: vlynkPulse 2s ease-in-out infinite alternate;
  box-shadow: var(--vlynk-shadow-primary, 0 0 20px rgba(255, 85, 0, 0.3));
}

.loginTitle {
  color: var(--vlynk-text-primary, #FF5500);
  font-size: var(--vlynk-font-xl, 14px);
  margin-bottom: var(--vlynk-spacing-lg, 20px);
  text-shadow: 0 0 10px var(--vlynk-text-primary, #FF5500);
  letter-spacing: 2px;
}

.loginSubtext {
  color: var(--vlynk-text-muted, #666);
  font-size: var(--vlynk-font-xs, 7px);
  margin-bottom: var(--vlynk-spacing-lg, 20px);
  text-transform: uppercase;
}

.loginInput {
  width: 100%;
  max-width: 300px;
  background: transparent;
  border: 1px solid var(--vlynk-border-primary, #FF5500);
  color: var(--vlynk-text-secondary, #fff);
  font-family: 'PressStart2P', 'Press Start 2P', monospace;
  font-size: var(--vlynk-font-sm, 8px);
  padding: var(--vlynk-spacing-md, 12px);
  margin-bottom: var(--vlynk-spacing-lg, 20px);
  box-sizing: border-box;
  text-align: center;
  letter-spacing: 1px;
}

.loginInput:focus {
  outline: none;
  box-shadow: 0 0 15px var(--vlynk-text-primary, #FF5500);
  border-color: var(--vlynk-primary-hover, #FF8800);
}

.loginInput::placeholder {
  color: var(--vlynk-text-muted, #666);
  opacity: 0.8;
}

.loginBtn {
  background: var(--vlynk-text-primary, #FF5500);
  color: var(--vlynk-text-inverse, #000);
  border: none;
  padding: var(--vlynk-spacing-md, 12px) var(--vlynk-spacing-xl, 24px);
  font-family: 'PressStart2P', 'Press Start 2P', monospace;
  font-size: var(--vlynk-font-sm, 8px);
  cursor: pointer;
  transition: var(--vlynk-transition-normal, 0.3s ease);
  text-transform: uppercase;
  letter-spacing: 1px;
  min-width: 180px;
}

.loginBtn:hover:not(:disabled) {
  background: var(--vlynk-text-secondary, #fff);
  box-shadow: var(--vlynk-shadow-primary, 0 0 20px rgba(255, 85, 0, 0.3));
  transform: translateY(-1px);
}

.loginBtn:disabled {
  background: var(--vlynk-text-muted, #666);
  color: var(--vlynk-bg-secondary, #333);
  cursor: not-allowed;
  opacity: 0.6;
}

.connectionStatus {
  margin-top: var(--vlynk-spacing-lg, 20px);
  font-size: var(--vlynk-font-xs, 7px);
  color: var(--vlynk-text-muted, #666);
}

.connected {
  color: var(--vlynk-success, #00FF00);
  text-shadow: 0 0 5px var(--vlynk-success, #00FF00);
}

.disconnected {
  color: var(--vlynk-danger, #FF0000);
  text-shadow: 0 0 5px var(--vlynk-danger, #FF0000);
}

/* ===== 메인 컨테이너 ===== */
.mainContainer {
  width: 100%;
  height: 100vh;
  position: relative;
  overflow-y: auto;
  padding-bottom: var(--vlynk-spacing-lg, 20px);
  padding-top: 100px;
}

.header {
  text-align: center;
  margin-bottom: var(--vlynk-spacing-2xl, 40px);
  padding: 0 var(--vlynk-spacing-lg, 20px);
}

.header h1 {
  font-size: var(--vlynk-font-3xl, 24px);
  color: var(--vlynk-text-primary, #FF5500);
  text-shadow: 0 0 5px var(--vlynk-text-primary, #FF5500), 
               0 0 10px var(--vlynk-text-primary, #FF5500), 
               0 0 20px var(--vlynk-text-primary, #FF5500);
  margin: 0 0 var(--vlynk-spacing-lg, 20px) 0;
  letter-spacing: 2px;
}

.cursor {
  display: inline-block;
  animation: vlynkBlink 1s step-start 0s infinite;
  margin-left: var(--vlynk-spacing-xs, 4px);
}

.statusText {
  color: var(--vlynk-text-muted, #666);
  font-size: var(--vlynk-font-sm, 8px);
  line-height: 1.6;
  margin-top: var(--vlynk-spacing-md, 15px);
}

/* ===== 룸 생성 버튼 ===== */
.createRoomSection {
  position: fixed;
  top: 80px;
  right: var(--vlynk-spacing-lg, 20px);
  z-index: 1000;
}

.createRoomBtn {
  background: var(--vlynk-text-primary, #FF5500);
  color: var(--vlynk-text-inverse, #000);
  border: none;
  padding: var(--vlynk-spacing-md, 12px) var(--vlynk-spacing-lg, 20px);
  font-family: 'PressStart2P', 'Press Start 2P', monospace;
  font-size: var(--vlynk-font-sm, 8px);
  cursor: pointer;
  transition: var(--vlynk-transition-normal, 0.3s ease);
  text-transform: uppercase;
  letter-spacing: 1px;
  box-shadow: var(--vlynk-shadow-card, 0 4px 12px rgba(0, 0, 0, 0.5));
}

.createRoomBtn:hover {
  background: var(--vlynk-text-secondary, #fff);
  box-shadow: var(--vlynk-shadow-primary, 0 0 20px rgba(255, 85, 0, 0.3));
  transform: translateY(-2px);
}

/* ===== 룸 그리드 ===== */
.roomsGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: var(--vlynk-spacing-lg, 20px);
  padding: 0 var(--vlynk-spacing-lg, 20px);
  max-width: 1400px;
  margin: 0 auto;
}

.roomCard {
  background: var(--vlynk-bg-secondary, #111);
  border: 1px solid var(--vlynk-border-primary, #FF5500);
  padding: var(--vlynk-spacing-lg, 20px);
  cursor: pointer;
  transition: var(--vlynk-transition-normal, 0.3s ease);
  position: relative;
  overflow: hidden;
}

.roomCard:hover {
  background: var(--vlynk-text-primary, #FF5500);
  color: var(--vlynk-text-inverse, #000);
  box-shadow: var(--vlynk-shadow-primary, 0 0 20px rgba(255, 85, 0, 0.3));
  transform: translateY(-3px);
}

.roomCard:hover .roomName,
.roomCard:hover .roomDescription,
.roomCard:hover .roomTech {
  color: var(--vlynk-text-inverse, #000);
}

.roomHeader {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--vlynk-spacing-md, 15px);
}

.roomName {
  color: var(--vlynk-text-primary, #FF5500);
  font-size: var(--vlynk-font-md, 10px);
  font-weight: bold;
  line-height: 1.3;
  transition: var(--vlynk-transition-fast, 0.15s ease);
}

.roomUsers {
  background: var(--vlynk-text-primary, #FF5500);
  color: var(--vlynk-text-inverse, #000);
  font-size: var(--vlynk-font-xs, 7px);
  padding: var(--vlynk-spacing-xs, 4px) var(--vlynk-spacing-sm, 8px);
  border-radius: 2px;
  min-width: 40px;
  text-align: center;
}

.roomDescription {
  color: var(--vlynk-text-secondary, #fff);
  font-size: var(--vlynk-font-sm, 8px);
  line-height: 1.4;
  margin-bottom: var(--vlynk-spacing-md, 15px);
  transition: var(--vlynk-transition-fast, 0.15s ease);
}

.roomTech {
  color: var(--vlynk-text-muted, #666);
  font-size: var(--vlynk-font-xs, 7px);
  margin-bottom: var(--vlynk-spacing-md, 15px);
  transition: var(--vlynk-transition-fast, 0.15s ease);
}

.roomStatus {
  display: flex;
  justify-content: flex-end;
}

.active {
  color: var(--vlynk-success, #00FF00);
  font-size: var(--vlynk-font-xs, 7px);
  text-shadow: 0 0 5px var(--vlynk-success, #00FF00);
}

.inactive {
  color: var(--vlynk-text-muted, #666);
  font-size: var(--vlynk-font-xs, 7px);
}

/* ===== 빈 상태 ===== */
.noRooms {
  grid-column: 1 / -1;
  text-align: center;
  color: var(--vlynk-text-muted, #666);
  padding: var(--vlynk-spacing-2xl, 80px) var(--vlynk-spacing-lg, 20px);
  font-size: var(--vlynk-font-md, 10px);
  line-height: 1.6;
}

.noRooms p:first-child {
  color: var(--vlynk-text-primary, #FF5500);
  font-size: var(--vlynk-font-lg, 12px);
  margin-bottom: var(--vlynk-spacing-md, 15px);
}

/* ===== 음악방 화면 ===== */
.musicRoom {
  width: 100vw;
  height: 100vh;
  background: var(--vlynk-bg-tertiary, #000);
  color: var(--vlynk-text-secondary, #fff);
  font-family: 'PressStart2P', 'Press Start 2P', monospace;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.musicRoomHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--vlynk-spacing-lg, 20px);
  border-bottom: 1px solid var(--vlynk-border-primary, #FF5500);
  position: fixed;
  top: 60px;
  left: 0;
  right: 0;
  background: var(--vlynk-bg-tertiary, #000);
  z-index: 1000;
  box-shadow: var(--vlynk-shadow-card, 0 4px 12px rgba(0, 0, 0, 0.5));
}

.roomTitle {
  color: var(--vlynk-text-primary, #FF5500);
  font-size: var(--vlynk-font-lg, 12px);
  text-shadow: 0 0 10px var(--vlynk-text-primary, #FF5500);
  letter-spacing: 1px;
}

.leaveBtn {
  background: var(--vlynk-danger, #FF0000);
  color: var(--vlynk-text-secondary, #fff);
  border: none;
  padding: var(--vlynk-spacing-sm, 8px) var(--vlynk-spacing-md, 12px);
  font-family: 'PressStart2P', 'Press Start 2P', monospace;
  font-size: var(--vlynk-font-xs, 7px);
  cursor: pointer;
  transition: var(--vlynk-transition-normal, 0.3s ease);
  text-transform: uppercase;
}

.leaveBtn:hover {
  background: var(--vlynk-text-secondary, #fff);
  color: var(--vlynk-danger, #FF0000);
  box-shadow: 0 0 10px var(--vlynk-danger, #FF0000);
}

.musicContent {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding-top: 80px;
  overflow: hidden;
}

/* ===== 트랙 헤더 ===== */
.trackHeaderSimple {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--vlynk-spacing-md, 15px) var(--vlynk-spacing-lg, 20px);
  border-bottom: 1px solid var(--vlynk-border-secondary, #333);
  background: var(--vlynk-bg-secondary, #111);
  flex-shrink: 0;
  min-height: 60px; /* 최소 높이 설정 */
}

.trackInfoLeft {
  flex: 1;
  min-width: 0; /* 텍스트 overflow 처리를 위해 필요 */
}

.trackTitleSimple {
  color: var(--vlynk-text-primary, #FF5500);
  font-size: var(--vlynk-font-sm, 8px);
  margin-bottom: var(--vlynk-spacing-xs, 5px);
  font-weight: bold;
  letter-spacing: 0.5px;
  line-height: 1.3;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.trackUploaderSimple {
  color: var(--vlynk-text-muted, #666);
  font-size: var(--vlynk-font-xs, 7px);
  line-height: 1.2;
}

.trackActions {
  display: flex;
  gap: var(--vlynk-spacing-sm, 10px);
}

.downloadBtn {
  background: var(--vlynk-bg-tertiary, #000);
  color: var(--vlynk-text-muted, #666);
  border: 1px solid var(--vlynk-border-secondary, #333);
  padding: var(--vlynk-spacing-xs, 4px) var(--vlynk-spacing-sm, 8px);
  font-family: 'PressStart2P', 'Press Start 2P', monospace;
  font-size: var(--vlynk-font-xs, 6px);
  cursor: not-allowed;
  transition: var(--vlynk-transition-normal, 0.3s ease);
}

.downloadBtn:not(:disabled) {
  background: var(--vlynk-success, #00FF00);
  color: var(--vlynk-text-inverse, #000);
  cursor: pointer;
  border-color: var(--vlynk-success, #00FF00);
}

.downloadBtn:not(:disabled):hover {
  box-shadow: 0 0 10px var(--vlynk-success, #00FF00);
  transform: translateY(-1px);
}

/* ===== 웨이브폼 영역 ===== */
.waveformMainArea {
  background: var(--vlynk-bg-secondary, #111);
  margin: var(--vlynk-spacing-lg, 20px);
  padding: var(--vlynk-spacing-lg, 20px);
  border: 1px solid var(--vlynk-border-primary, #FF5500);
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 300px;
  box-shadow: var(--vlynk-shadow-card, 0 4px 12px rgba(0, 0, 0, 0.5));
}

.waveformContainerMain {
  width: 100%;
  height: 200px;
  position: relative;
  background: var(--vlynk-bg-tertiary, #000);
  margin-bottom: var(--vlynk-spacing-md, 15px);
  border: 1px solid var(--vlynk-border-secondary, #333);
  overflow: hidden;
}

.waveformCanvasMain {
  width: 100%;
  height: 100%;
  cursor: pointer;
  display: block;
  transition: var(--vlynk-transition-fast, 0.15s ease);
}

.waveformCanvasMain:hover {
  opacity: 0.9;
}

.waveformLoadingMain {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: var(--vlynk-text-primary, #FF5500);
  text-align: center;
  font-size: var(--vlynk-font-sm, 8px);
  pointer-events: none;
  line-height: 1.4;
  animation: vlynkPulse 2s ease-in-out infinite alternate;
}

/* ===== 시간 표시 ===== */
.timeDisplay {
  text-align: center;
  margin-bottom: var(--vlynk-spacing-md, 15px);
  font-size: var(--vlynk-font-sm, 8px);
  padding: var(--vlynk-spacing-sm, 8px);
  background: var(--vlynk-bg-tertiary, #000);
  border: 1px solid var(--vlynk-border-secondary, #333);
}

.timeCurrent {
  color: var(--vlynk-text-primary, #FF5500);
  text-shadow: 0 0 5px var(--vlynk-text-primary, #FF5500);
}

.timeSeparator {
  color: var(--vlynk-text-muted, #666);
  margin: 0 var(--vlynk-spacing-xs, 5px);
}

.timeTotal {
  color: var(--vlynk-text-secondary, #fff);
}

/* ===== 컨트롤 버튼들 ===== */
.simpleControls {
  display: flex;
  justify-content: center;
  gap: var(--vlynk-spacing-lg, 20px);
  align-items: center;
  padding: var(--vlynk-spacing-md, 15px);
  border-top: 1px solid var(--vlynk-border-secondary, #333);
  background: var(--vlynk-bg-tertiary, #000);
}

.playBtnMain, .uploadBtnMain {
  background: var(--vlynk-text-primary, #FF5500);
  color: var(--vlynk-text-inverse, #000);
  border: none;
  padding: var(--vlynk-spacing-md, 12px) var(--vlynk-spacing-lg, 20px);
  font-family: 'PressStart2P', 'Press Start 2P', monospace;
  font-size: var(--vlynk-font-sm, 8px);
  cursor: pointer;
  transition: var(--vlynk-transition-normal, 0.3s ease);
  min-width: 120px;
  position: relative;
  overflow: hidden;
}

.playBtnMain:hover:not(:disabled), 
.uploadBtnMain:hover {
  background: var(--vlynk-secondary, #FFFF00);
  transform: translateY(-2px);
  box-shadow: var(--vlynk-shadow-primary, 0 0 20px rgba(255, 85, 0, 0.3));
}

.playBtnMain:disabled {
  background: var(--vlynk-text-muted, #666);
  color: var(--vlynk-bg-secondary, #333);
  cursor: not-allowed;
  opacity: 0.6;
}

/* ===== 댓글 섹션 ===== */
.commentsSection {
  background: var(--vlynk-bg-secondary, #111);
  border-top: 1px solid var(--vlynk-border-primary, #FF5500);
  display: flex;
  flex-direction: column;
  height: 300px;
  overflow: hidden;
  flex-shrink: 0; /* 중요: 압축되지 않도록 */
}

.commentInputArea {
  display: flex;
  align-items: center;
  gap: var(--vlynk-spacing-sm, 8px);
  padding: var(--vlynk-spacing-md, 15px);
  border-bottom: 1px solid var(--vlynk-border-secondary, #333);
  background: var(--vlynk-bg-tertiary, #000);
  flex-shrink: 0;
}

.commentTimeIndicator {
  background: var(--vlynk-text-primary, #FF5500);
  color: var(--vlynk-text-inverse, #000);
  padding: var(--vlynk-spacing-xs, 4px) var(--vlynk-spacing-sm, 8px);
  font-size: var(--vlynk-font-xs, 7px);
  min-width: 50px;
  text-align: center;
  border-radius: 2px;
  font-weight: bold;
}

.commentInput {
  flex: 1;
  background: transparent;
  border: 1px solid var(--vlynk-border-secondary, #333);
  color: var(--vlynk-text-secondary, #fff);
  font-family: 'PressStart2P', 'Press Start 2P', monospace;
  font-size: var(--vlynk-font-xs, 7px);
  padding: var(--vlynk-spacing-sm, 8px);
  min-height: 30px;
}

.commentInput:focus {
  outline: none;
  border-color: var(--vlynk-text-primary, #FF5500);
  box-shadow: 0 0 5px var(--vlynk-text-primary, #FF5500);
}

.commentInput::placeholder {
  color: var(--vlynk-text-muted, #666);
  opacity: 0.8;
}

.commentBtn {
  background: var(--vlynk-text-primary, #FF5500);
  color: var(--vlynk-text-inverse, #000);
  border: none;
  padding: var(--vlynk-spacing-sm, 8px) var(--vlynk-spacing-md, 12px);
  font-family: 'PressStart2P', 'Press Start 2P', monospace;
  font-size: var(--vlynk-font-xs, 7px);
  cursor: pointer;
  transition: var(--vlynk-transition-normal, 0.3s ease);
  min-width: 80px;
}

.commentBtn:hover:not(:disabled) {
  background: var(--vlynk-text-secondary, #fff);
  transform: translateY(-1px);
  box-shadow: 0 0 5px var(--vlynk-text-primary, #FF5500);
}

.commentBtn:disabled {
  background: var(--vlynk-text-muted, #666);
  color: var(--vlynk-bg-secondary, #333);
  cursor: not-allowed;
  opacity: 0.6;
}

.commentBtn.voice {
  background: var(--vlynk-warning, #FFAA00);
}

.commentBtn.voice.recording {
  background: var(--vlynk-danger, #FF0000);
  animation: vlynkPulse 1s ease-in-out infinite alternate;
}

.commentBtn.send {
  background: var(--vlynk-success, #00FF00);
}

.commentsList {
  flex: 1;
  overflow-y: auto;
  padding: var(--vlynk-spacing-md, 15px);
  scrollbar-width: thin;
  scrollbar-color: var(--vlynk-text-primary, #FF5500) var(--vlynk-bg-tertiary, #000);
}

.commentsList::-webkit-scrollbar {
  width: 6px;
}

.commentsList::-webkit-scrollbar-track {
  background: var(--vlynk-bg-tertiary, #000);
}

.commentsList::-webkit-scrollbar-thumb {
  background: var(--vlynk-text-primary, #FF5500);
  border-radius: 3px;
}

.commentItem {
  margin-bottom: var(--vlynk-spacing-md, 15px);
  border-left: 2px solid var(--vlynk-border-secondary, #333);
  padding-left: var(--vlynk-spacing-sm, 8px);
  animation: slideInLeft 0.3s ease-out;
}

.commentHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--vlynk-spacing-xs, 5px);
}

.commentUser {
  color: var(--vlynk-text-primary, #FF5500);
  font-size: var(--vlynk-font-xs, 7px);
  font-weight: bold;
}

.commentTimestamp {
  color: var(--vlynk-text-muted, #666);
  font-size: var(--vlynk-font-xs, 6px);
  cursor: pointer;
  transition: var(--vlynk-transition-fast, 0.15s ease);
}

.commentTimestamp:hover {
  color: var(--vlynk-text-primary, #FF5500);
  text-shadow: 0 0 3px var(--vlynk-text-primary, #FF5500);
}

.commentMessage {
  color: var(--vlynk-text-secondary, #fff);
  font-size: var(--vlynk-font-xs, 7px);
  line-height: 1.4;
  word-wrap: break-word;
}

.voiceMessage {
  background: var(--vlynk-bg-tertiary, #000);
  border: 1px solid var(--vlynk-warning, #FFAA00);
  padding: var(--vlynk-spacing-sm, 8px);
  border-radius: 3px;
}

.voiceMessage audio {
  width: 100%;
  margin-top: var(--vlynk-spacing-xs, 5px);
  height: 30px;
}

/* ===== 애니메이션 ===== */
@keyframes vlynkBlink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

@keyframes vlynkPulse {
  0% { 
    box-shadow: 0 0 0 0 var(--vlynk-text-primary, #FF5500);
  }
  100% { 
    box-shadow: 0 0 0 8px rgba(255, 85, 0, 0.2);
  }
}

@keyframes slideInLeft {
  0% {
    opacity: 0;
    transform: translateX(-20px);
  }
  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

/* ===== 반응형 디자인 ===== */
@media (max-width: 1200px) {
  .roomsGrid {
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  }
}

@media (max-width: 768px) {
  .container {
    font-size: var(--vlynk-font-xs, 7px);
  }

  .userInfo {
    top: 70px;
    left: var(--vlynk-spacing-sm, 10px);
    font-size: var(--vlynk-font-sm, 8px);
  }

  .createRoomSection {
    top: 70px;
    right: var(--vlynk-spacing-sm, 10px);
  }

  .createRoomBtn {
    font-size: var(--vlynk-font-xs, 7px);
    padding: var(--vlynk-spacing-sm, 8px) var(--vlynk-spacing-md, 12px);
  }

  .header h1 {
    font-size: var(--vlynk-font-2xl, 16px);
  }

  .roomsGrid {
    grid-template-columns: 1fr;
    padding: 0 var(--vlynk-spacing-md, 15px);
  }

  .roomCard {
    padding: var(--vlynk-spacing-md, 15px);
  }

  .musicRoomHeader {
    flex-direction: column;
    gap: var(--vlynk-spacing-sm, 10px);
    padding: var(--vlynk-spacing-md, 15px);
  }

  .roomTitle {
    font-size: var(--vlynk-font-md, 10px);
  }

  .trackHeaderSimple {
    flex-direction: column;
    gap: var(--vlynk-spacing-sm, 10px);
    align-items: flex-start;
  }

  .waveformMainArea {
    margin: var(--vlynk-spacing-md, 15px);
    padding: var(--vlynk-spacing-md, 15px);
  }

  .waveformContainerMain {
    height: 150px;
  }

  .simpleControls {
    flex-direction: column;
    gap: var(--vlynk-spacing-md, 15px);
  }

  .playBtnMain, .uploadBtnMain {
    min-width: 100px;
    font-size: var(--vlynk-font-xs, 7px);
  }

  .commentInputArea {
    flex-wrap: wrap;
    gap: var(--vlynk-spacing-xs, 5px);
  }

  .commentInput {
    min-width: 200px;
    font-size: var(--vlynk-font-xs, 6px);
  }

  .commentBtn {
    font-size: var(--vlynk-font-xs, 6px);
    padding: var(--vlynk-spacing-xs, 6px) var(--vlynk-spacing-sm, 8px);
    min-width: 60px;
  }

  .loginBox {
    padding: var(--vlynk-spacing-lg, 20px);
    margin: 0 var(--vlynk-spacing-lg, 20px);
  }

  .loginTitle {
    font-size: var(--vlynk-font-md, 10px);
  }

  .loginInput {
    font-size: var(--vlynk-font-xs, 7px);
    padding: var(--vlynk-spacing-sm, 8px);
  }

  .loginBtn {
    font-size: var(--vlynk-font-xs, 7px);
    padding: var(--vlynk-spacing-sm, 8px) var(--vlynk-spacing-lg, 16px);
    min-width: 140px;
  }
}

@media (max-width: 480px) {
  .roomsGrid {
    padding: 0 var(--vlynk-spacing-sm, 8px);
  }

  .header h1 {
    font-size: var(--vlynk-font-xl, 14px);
  }

  .waveformContainerMain {
    height: 120px;
  }

  .commentsSection {
    height: 250px;
  }

  .commentInputArea {
    padding: var(--vlynk-spacing-sm, 8px);
  }

  .commentsList {
    padding: var(--vlynk-spacing-sm, 8px);
  }
}

/* ===== 접근성 개선 ===== */
@media (prefers-reduced-motion: reduce) {
  .container,
  .container *,
  .musicRoom,
  .musicRoom *,
  .loginBox,
  .loginBox * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .cursor,
  .waveformLoadingMain,
  .commentBtn.recording {
    animation: none !important;
  }
}

/* ===== 고대비 모드 지원 ===== */
@media (prefers-contrast: high) {
  .container {
    --vlynk-text-primary: #FFFFFF;
    --vlynk-bg-primary: #000000;
    --vlynk-border-primary: #FFFFFF;
  }
}

/* ===== 포커스 스타일 ===== */
.loginInput:focus,
.commentInput:focus,
.loginBtn:focus,
.createRoomBtn:focus,
.leaveBtn:focus,
.commentBtn:focus,
.playBtnMain:focus,
.uploadBtnMain:focus {
  outline: 2px solid var(--vlynk-text-primary, #FF5500);
  outline-offset: 2px;
}

/* ===== 로딩 상태 ===== */
.loading {
  opacity: 0.7;
  pointer-events: none;
}

.loading::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 20px;
  height: 20px;
  margin: -10px 0 0 -10px;
  border: 2px solid var(--vlynk-text-primary, #FF5500);
  border-radius: 50%;
  border-top-color: transparent;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}